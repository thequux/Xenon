Съдържание:

1. Обща информация.
1.1. Бърза инсталация.
1.2. Препоръчителни видеорежими.
1.3. Легенда.
1.4. Варианти.
1.5. Забележки.

2. Linux конзола.
2.1. consoletools.
2.2. kbd.
2.3. Кратко описанние.
2.4. Легенда.
2.5. Забележки.

3. UNIX конзола.
3.1. bsd-pcvt.
3.2. Легенда.
3.3. Забележки.

4. X11 Window System.
4.1. Инсталация.
4.2. Забележки.

5. Често задавани въпроси.

6. Грешки.

7. Правна информация.
7.1. Лиценз.
7.2. Авторство.


1. Обща информация.

Този архив съдържа source код за генериране и инсталиране на шрифта Терминус
за Linux конзола, UNIX конзола и X11 Window System.

- версия	4.20
- размери	6x12, 8x14, 8x16, 10x20, 12x24, 14x28, 16x32
- стилове	нормален, удебелен, EGA/VGA-удебелен
- кодировки	ISO10646-1
- брой символи	690
- формат	Bitmap Distribution Format (BDF) версия 2.1

Набора символи покрива ISO8859-1/2/5/9/13/15/16, IBM-437/852/855/866,
Windows-1250/1251/1252/1254/1257, KOI8-R/U/E/F, Paratype-PT154/PT254,
Bulgarian-MIK, Macintosh-Ukrainian, Esperanto и много други (общо около 110
езикови набора). Включени са също и превдографичните символи на IBM VGA,
vt100 и xterm.

1.1. Бърза инсталация.

Командите:

$ ./configure [--prefix=PREFIX]
$ make
# make install

компилират и инсталират шрифтовете за Linux конзола и X11 Window System, а

# make fontdir

актуализира fonts.dir за X11 (ако не знаете какво е fonts.dir, изпълнете
командата).

1.2. Препоръчителни видеорежими.

Очевидно колкото по-голям и по-качествен е един монитор, толкова по-високи
режими (при съответните честоти) могат да се ползват, и толкова повече текст
може да се изведе на екрана, оставайки удобночитаем - и обратното. Като база
за сравнение, нормално е на 14" и 15" CRT монитори да се ползват режими
640x480 и 800x600 с размери на шрифта 8x16 и 10x20 съответно, т.е. 80 колони
и 30 реда.

Ползвайте режими съответстващи на пропорциите на монитора. Повечето монитори
за персонални компютри са 4:3, затова по възможност ползвайте 1280x960 (4:3)
вместо 1280x1024 (5:4). Текстовите режими за EGA/VGA са 720x400 (9:5), но
шрифта (т.е. размери 8x14 и 8x16) е предвиден да работи с тях.

1.3. Легенда.

Имената на файловете са структурирани както следва:

ter-u<ГОЛЕМИНА><СТИЛ>.bdf

където <ГОЛЕМИНА> е 12, 14, 16, 20, 24, 28 или 32, а <СТИЛ> е n за нормален
(всички големини), b за удебелен (всички размери освен 6x12) и v за EGA/VGA
удебелен (само за 8x14 и 8x16, ползва осмата колона на символната матрица).

1.4. Варианти.

Някои символи са реализирани в два варианта. Алтернативните варианти са на
интернет страницата на шрифта. За да използвате вариант, преди инсталация го
вземете от страницата и изпълнете:

zcat terminus-font-<ВЕРСИЯ>-<ИМЕ>.diff.gz | patch -p1

където <ВЕРСИЯ> е версията на шрифта, а <ИМЕ> идентифицира варианта.

1.5. Забележки.

Командите отбелязани с $ могат да се изпълнят от обикновен потребител.
Командите за конфигуриране не са задължителни.

Почти всички символи които не се съдържат в изброените по-горе кодови
страници са достъпни само под X11/ISO10646-1 (UTF+8/UNICODE).


2. Linux конзола.

- размери	6x12, 8x14, 8x16, 12x24, 10x20, 14x28 и 16x32
- стилове	нормален, удебелен, framebuffer-удебелен
- кодировки	ISO8859-1/ISO8859-15/Windows-1252, ISO8859-2/Windows-1250,
		Windows-1251/ISO8859-5, ISO8859-9/Windows-1254, ISO8859-16,
		ISO8859-13/Windows-1257, IBM-437, Bulgarian-MIK, KOI8-R,
		KOI8-U, Paratype-PT154, комбинирана
- брой символи	582
- формат	PC Screen Font (PSF) с unicode данни

2.1. consoletools.

$ ./configure [--prefix=ПРЕФИКС | --psfdir=ДИРЕКТОРИЯ]
$ make psf
# make install-psf

Файловете се компресират с gzip и инсталират в ДИРЕКТОРИЯ. Ако ДИРЕКТОРИЯ не
съществува, тя се създава. Подразбиращия се ПРЕФИКС е /usr. Подразбиращата
се ДИРЕКТОРИЯ е ПРЕФИКС/share/consolefonts. Изисква се Perl.

Ако нямате кодировки за Windows-1252/1250/1251/1254/1257, ISO8859-16,
IBM-437, KOI8-R, Bulgarian-MIK или Paratype-PT154/PT254, изпълнете също и:

$ ./configure [--prefix=ПРЕФИКС | --acmdir=ДИРЕКТОРИЯ]
$ make txt
# make install-acm

Подразбиращата се ДИРЕКТОРИЯ е ПРЕФИКС/share/consoletrans. Изисква се awk.
Деинсталация на кодировките не се поддържа. Зареждане на шрифт:

$ consolechars [-m КОДИРОВКА] -f ter-<X><ГОЛЕМИНА><СТИЛ>

където <X> е символ идентифициращ кодовата страница по списъка от т.2.4.

2.2. kbd.

$ ./configure [--psfdir=ДИРЕКТОРИЯ]
$ make psf
# make install-psf

където ДИРЕКТОРИЯ трябва да е ПРЕФИКС/lib/kbd/consolefonts или
ПРЕФИКС/share/kbd/consolefonts, в зависимост от версията на kbd, а ПРЕФИКС е
обикновено /usr. Липсващите кодировки се инсталират с:

$ ./configure [--prefix=ПРЕФИКС | --unidir=ДИРЕКТОРИЯ]
$ make txt
# make install-uni

Подразбиращата се ДИРЕКТОРИЯ е ПРЕФИКС/share/kbd/consoletrans. Изисква се
awk. Зареждане на шрифт:

$ setfont [-m КОДИРОВКА] ter-<X><ГОЛЕМИНА><СТИЛ>

където <X> е символ идентифициращ кодовата страница по списъка от т.2.4.

2.3. Кратко описание.

$ ./configure [--prefix=ПРЕФИКС | --psfdir=ДИРЕКТОРИЯ | --ref=ИМЕНАФАЙЛ]
# make install-ref

Инсталира текста от т.2.4. (на английски) под името ИМЕНАФАЙЛ (подразбира се
README.terminus) в ДИРЕКТОРИЯ.

2.4. Легенда.

имена	кодировки		кодови страници

ter-1*	iso01, iso15, cp1252	ISO8859-1, ISO8859-15, Windows-1252
ter-2*	iso02, cp1250		ISO8859-2, Windows-1250
ter-9*	iso09, cp1254		ISO8859-9, Windows-1254
ter-c*	cp1251, iso05		Windows-1251, ISO8859-5
ter-d*	iso13, cp1257		ISO8859-13, Windows-1257
ter-g*	iso16			ISO8859-16
ter-i*	cp437			IBM-437
ter-k*	koi8r			KOI8-R
ter-m*	mik			Bulgarian-MIK
ter-p*	pt154			Paratype-PT154
ter-k*	koi8u			KOI8-U
ter-v*	всички изброени		всички изброени по-горе, Paratype-PT254,
	по-горе, pt254 и др.	Macintosh-Ukrainian, KOI8-U/E/F и
	(ако имате кодировки)	IBM-852/855/866, 8 цвята за текст

имена	стил

ter-*n	нормален
ter-*b	удебелен
ter-*f	framebuffer-удебелен

2.5. Забележки.

Комбинираната кодова страница е базирана IBM-437 (символ 0xFF е ogonek).
ISO8859-16 шрифта включва също и всички букви и акценти от Windows-1250.

Framebuffer-ите на Linux ядро 2.4 поддържат само ширини 8, 12 и 16; за да
ползвате останалите големини се изискват ядро 2.6 и съответен framebuffer.


3. UNIX конзола.

- размери	8x14, 8x16
- стилове	нормален, удебелен, framebuffer-удебелен
- кодировки	ISO8859-1/Windows-1252, ISO8859-2, ISO8859-5, ISO8859-9,
		ISO8859-9/Windows-1254, ISO8859-13, ISO8859-15, ISO8859-16,
		IBM-437, KOI8-R, KOI8-U, Paratype-PT154
- брой символи	542
- формат	чисти данни

3.1. bsd-pcvt.

$ ./configure [--prefix=ПРЕФИКС | --rawdir=ДИРЕКТОРИЯ]
$ make raw
# make install.raw

или, за имена на файловете с минус вместо с точка:

# make install-raw

Подразбиращата се ДИРЕКТОРИЯ е ПРЕФИКС/share/misc/pcvtfonts. Шрифтовете се
инсталират некомпресирани. Изисква се Perl. Зареждане на шрифт:

$ loadfont -f /usr/share/misc/pcvtfonts/ter-<X><STYLE>.8<SIZE>

или, за имена на файловете с минус вместо с точка:

$ loadfont -f /usr/share/misc/pcvtfonts/ter-<X><STYLE>-8x<SIZE>

където <X> е символ идентифициращ кодовата страница по списъка от т.3.2.

3.2. Легенда.

имена	кодови страници

ter-1*	ISO8859-1, Windows-1252
ter-2*	ISO8859-2
ter-5*	ISO8859-5
ter-9*	ISO8859-9, Windows-1254
ter-c*	Windows-1251
ter-d*	ISO8859-13
ter-f*	ISO8859-15
ter-g*	ISO8859-16
ter-i*	IBM-437
ter-k*	KOI8-R
ter-p*	Paratype-PT154
ter-u*	KOI8-U

имена	стил

ter-*n	нормален
ter-*b	удебелен
ter-*f	framebuffer-удебелен

3.3. Забележки.

RAW шрифтовете съдържат само данни и би трябвало да са съвместими с всички
UNIX системи. Ако някой от удебелените шрифтове не изглежда добре пробвайте
framebuffer-удебелен, или, ако ползвате EGA/VGA адаптер, го програмирайте да
нулира символна колона 8 (контролер на атрибутите регистър 0x10 бит 0x02).


4. X11 Window System.

- размери	6x12, 8x14, 8x16, 10x20, 12x24, 14x28 и 16x32
- стилове	нормален, удебелен
- кодировки	ISO8859-1/Windows-1252, ISO8859-2, ISO8859-5,
		ISO8859-9/Windows-1254, ISO8859-13, ISO8859-15, ISO8859-16,
		Windows-1251, KOI8-R, KOI8-U, Paratype-PT154, ISO10646-1
- брой символи	689
- формат	Portable Compiled Font (PCF)

4.1. Инсталация.

$ ./configure [--prefix=ПРЕФИКС | --x11dir=ДИРЕКТОРИЯ] [--mkindex=ИНДЕКС]
$ make pcf
# make install-pcf

Файловете се компресират с gzip и инсталират в ДИРЕКТОРИЯ. Ако ДИРЕКТОРИЯ не
съществува, тя се създава. Подразбиращия се ПРЕФИКС е /usr. Подразбиращата се
ДИРЕКТОРИЯ е ПРЕФИКС/X11R6/lib/X11/fonts/local. Изискват се Perl и bdftopcf.
Някои X11 програми заменят липсващите удебелени шрифтове чрез отместване на
нормалните шрифтове. За да избегнете такава замяна за 6x12, изпълнете:

# make install-12b

За да актуализирате fonts.dir в ДИРЕКТОРИЯ след (де)инсталация, ползвайте:

# make fontdir

Конфигурационния файл, изброяващ директориите за шрифтове, трябва да включва
ДИРЕКТОРИЯ. Ако xfs или X-сървъра са били активни по време на инсталацията,
може необходимо е те да се рестартират за да се обнови списъка от шрифтове.

Вижте също mkfontdir(1), xorg.conf(5), xfs(1), xlsfonts(1) и fonts-conf(5).

4.2. Забележки.

ISO8859-1 и ISO8859-9 шрифтовете съдържат Windows Western символите и могат
да бъдат използвани съответно като Windows-1252 и Windows-1254.


5. Често задавани въпроси.

В. Наклонена версия?

О. Не. Качеството е доста по-ниско, а и запазването ширината на символите
изисква припокриване, което не се обработва много добре от X11/Xft. Ако Ви
е много необходима, пробвайте mkitalic от FreeBSD или bdfslant от Debian.

В. Мащабируема версия?

О. Вероятно TrueType шрифт през 2006/7г. Наклонена версия няма да бъде
включена, освен ако не е съвсем лесна за реализация.

В. Win32 версия?

О. Не, има проблеми с кодовите страници и големините на растерните шрифтове.
Можете да пробвате псевдо-TrueType версията от Eric Shao-yu Cheng.

В. Как се прави наклонена версия с mkitalic?

О. Съжалявам, но не отговарям на въпроси за mkitalic, bsdslant и
псевдо-TrueType версията, както и на въпроси специфични за дадена Linux
дистрибуция. Прочетете сорсовете/документацията или пишете до поддържащия
съответния Linux пакет.

В. Какво ще кажете за няколко нови символа?

Добре, ако не са много сложни - но бъдете готови да помогнете. За да направя
новите символи лесни за четене е необходимо много добре да ми се изясни как
трябва да изглеждат. Цифрите и повечето букви и пунктуационни знаци, с които
съм запознат, вече са включени в шрифта, и за новите почти сигурно ще се
нуждая от Вашата помощ.

В. Удебеленият 6x12 шрифт...

О. ...не съществува (вижте 4.1).

В. Шрифта работи с X11/Motif, но не и с GNOME/KDE/Xfce.

О. Вижте fonts-conf(5).

В. Малкото кирилско к...

О. ...е оправено, a предишното (високо) к е оставено като вариант.


6. Грешки.

Размер 6x12, размер 14x28 удебелен стил и размер 16x32 нормален стил са с
по-лошо качество от останалите. Избягвайте ги.

Модификатора на eth трябва да е базиран на крива, а не на диагонал.

Shha, Dje, shha и dje може да са грешни и/или да не съответстват на шрифта.

Горната-P-част на Thorn в размери 6x12 и 12x24 не е центрирана.

Модификаторите на Ghe middlehook, ghe middlehook, Eng и eng са общо взето
произволни.

Няколко акцента са реализирани като комбиниращи акценти, commaturnedmod е
произволен.


7. Правна информация.

7.1. Лиценз.

Можете да използвате и разпространявате този архив и вариантите на символите
свободно и безплатно при спазване на клаузите, заложени в GNU General Public
License версия 2.0 или (по Ваше усмотрение) която и да е по-късна версия.

7.2. Авторство.

Terminus Font 4.20, Copyright (C) 2006 Димитър Тошков Жеков.
Адрес за кореспонденция <jimmy@is-vn.bg>.


Благодарности на Антон Зиновиев, Кир Колышкин и на всички други, които
помогнаха.
